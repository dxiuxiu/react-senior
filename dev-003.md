## dev-003

使用 [babel-plugin-react-css-module](https://github.com/gajus/babel-plugin-react-css-modules) 解决 css 全局问题

## 安装依赖

```shell
$ yarn add babel-plugin-react-css-modules -D
$ # or
$ npm install ...
```
## 添加配置
### webpack.*.config.js

```javascript
module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/,
        use: [
          {
            loader: 'style-loader', // 开发模式使用
             // loader: MiniCssExtractPlugin.loader, // 打包模式使用
          },
          {
            loader: 'css-loader',
            options: {
              modules: {
                localIdentName: '[path][name]__[local]--[hash:base64:5]',
              }
            }
          },
          {
            loader: 'postcss-loader'
          }
        ]
      }
    ]
  }
}
```
### .babelrc

```json
{
  "plugins": [
     [
       "react-css-modules",
       {
         "generateScopedName": "[path][name]__[local]--[hash:base64:5]"
       }
     ]
   ]
}
```

`注意 react-css-modules 的 generateScopedName 与 css-loader 的 css-loader.options.modules.localIdentName 的取值`

### 或 .babelrc.js(推荐)

```js
module.exports = {
  presets: [
    require('@babel/preset-env'),
    require('@babel/preset-react')
  ],
  plugins: [
    [
      'react-css-modules',
      {
        generateScopedName: '[path][name]__[local]--[hash:base64:5]',
      }
    ]
  ]
}
```
然后就不用给不同的组件即时有相同的样式名称也不会出现冲突